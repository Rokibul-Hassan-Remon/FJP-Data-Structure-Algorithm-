## 📒 Note: Pointer Modify করার আগে বনাম পরে Recursion

---

### ❌ Case 1: আগে pointer modify, তারপর recursion

```java 
node.left = node.left.left;
RemoveToLeftClonedTree(node.left);
```

👉 এখানে সমস্যা কী?

- ধরো তুমি **10** এ আছো।
    
- তুমি সাথে সাথেই `node.left = node.left.left` করে দিলে → মানে clone node বাদ দিয়ে সরাসরি 20 এ jump করলে।
    
- ফলে তুমি **10' (clone node)** কে recursion করার সুযোগই দিলে না।
    
- এতে subtree traversal **মিস হয়ে যাবে**।
    

---

### 🤔 এখন প্রশ্ন:

**Recursion দিয়ে tree traverse করতে গেলে প্রতিটি node traverse করতে হবে — এটা কোথায় লেখা আছে?**

👉 আসলে এটা কোনো _written rule_ না।  
বরং recursion + tree traversal এর **natural requirement**।

---

### 🌳 কেন traverse না করে pointer modify করলে সমস্যা?

Binary tree সমস্যা solve করতে গেলে প্রায় সব সময়েই

**Recursive traversal = পুরো tree ভ্রমণ করা**

এর উপর নির্ভর করে।

- Recursion মানে:
    
    1. নিজেকে process করা (pre-order হলে আগে, post-order হলে পরে, in-order হলে মাঝে)
        
    2. তারপর left subtree এ যাওয়া
        
    3. তারপর right subtree এ যাওয়া
        

যদি তুমি **node.left = node.left.left** করে দাও **before recursion call**, তাহলে:

- Original `node.left` (মানে clone node) **traverse-ই হবে না**
    
- Subtree recursion এ **skip হয়ে যাবে**
    
- মানে recursion order **ভেঙে যাবে**
    

---

### 🔑 Rule কোথায় লেখা আছে?

- এটা বইয়ের পাতায় আলাদা কোনো **law** আকারে নেই।
    
- কিন্তু algorithm design এর principle হলো:
    
    - **Recursive solution মানেই প্রতিটি node traverse করতে হবে** (যদি না তুমি ইচ্ছাকৃতভাবে skip করো)।
        
    - আগে pointer modify করলে recursion ভুল পথে যাবে বা কিছু node মিস করবে।
        
- তাই subtle tree problem-এ বলা হয়:  
    **“First recurse, then modify.”**
    

---

### 📌 সাধারণ Guideline (মনে রাখার মতো)

1. Recursion এর সময় যদি **children pointer change করতে চাও** → আগে recursion calls complete করো, তারপর pointer modify করো।
    
2. আগে pointer change করলে recursion ভুল path এ যাবে অথবা কিছু node মিস হবে।
    

---
### 📚 Reference Quote

> “When modifying pointers during traversal, ensure recursive calls have already explored the current structure, otherwise nodes may be skipped.”  
> _(CLRS, GfG discussions)_

