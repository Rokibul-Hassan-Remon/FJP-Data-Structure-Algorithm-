## ЁЯЪй Recursion Function ржПрж░ Lower Portion ржПрж░ ржХрж╛ржЬ ржХрзА?

тЬЕ ржпржЦржи **ржПржХржЯрж┐ ржирзЛржбрзЗрж░ рззржЯрж┐рж░ ржмрзЗрж╢рж┐ branch ржерж╛ржХрзЗ**, рждржЦржи рж╕рзЗржЧрзБрж▓рзЛржХрзЗ **single linked list ржП convert ржХрж░рж╛ рж╣рзЯред**

ржХрзЗржи ржПржЯрж┐ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг?

- ржХрж╛рж░ржг ржПржЯрж┐ ржЖржорж╛ржжрзЗрж░ serialization logic ржПрж░ core:
    
    - ржкрзНрж░рждрж┐ржЯрж┐ ржирзЛржбрзЗрж░ multiple branches тЖТ single linked list ржП рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рждрзЗ рж╣ржмрзЗред
        

---

## ЁЯЪй ржпржЦржи While Loop Execute рж╣ржмрзЗ ржирж╛

ржпржжрж┐:

- **ржирзЛржбрзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ branch ржПрж░ ржЖржмрж╛рж░ ржпржжрж┐ ржХрзЛржирзЛ branch ржирж╛ ржерж╛ржХрзЗ**, ржЕржержмрж╛
    
- ржкрзНрж░рждрж┐ржЯрж┐ ржирзЛржбрзЗрж░ branch ржпржжрж┐ **рззржЯрж┐ рж╣рзЯ**,
    

рждрж╛рж╣рж▓рзЗ `while` loop execute рж╣ржмрзЗ ржирж╛ ржПржмржВ recursion рж╢рзЗрж╖ рж╣рж▓рзЗ parent node ржП ржлрж┐рж░рзЗ ржпрж╛ржмрзЗред

---

## ЁЯЪй ржХрзЗржи `getTail()` ржкрзНрж░рзЯрзЛржЬржи рж╣рзЯ?

Recursion ржерзЗржХрзЗ ржлрж┐рж░рзЗ ржЖрж╕рж╛рж░ ржкрж░рзЗ:

- `last` = parent node ржПрж░ рж╢рзЗрж╖рзЗрж░ branch
    
- `secLast` = parent node ржПрж░ рж╢рзЗрж╖ branch ржПрж░ ржкрзВрж░рзНржмрзЗрж░ branch
    

ржПржЦржи `secLast` ржПрж░ **tail node ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рждрзЗ рж╣рзЯ**, рждрж╛ржЗ:

```Java
secLastTail = getTail(secLast); secLastTail.children.add(last);
```


---

## ЁЯЪй ржкрзНрж░рж╢рзНржи: ржХрж┐ржнрж╛ржмрзЗ `secLast` ржПрж░ tail ржзрж░рждрзЗ ржкрж╛рж░рж┐?

ржЖржорж╛ржжрзЗрж░ serialized linked list рждрзИрж░рж┐рж░ рж╕ржорзЯ **parent node ржПрж░ рж╕ржХрж▓ branch traverse ржХрж░рзЗ linked list ржП рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рж┐ред** ржПржЦржи `secLast` ржПрж░ tail ржзрж░рждрзЗ ржЪрж╛ржЗрж▓рзЗ:

### ржПржХржЯрж┐ Possible Approach:

- ржПржХржЯрж┐ **stack** ржирж┐рзЯрзЗ ржкрзНрж░рждрж┐ржЯрж┐ branch ржП ржерж╛ржХрж╛ node ржЧрзБрж▓рзЛ push ржХрж░рж╛ред
    
- stack ржерзЗржХрзЗ pop ржХрж░рзЗ рж╕ржмрж╛рж░ ржЙржкрж░рзЗрж░ node ржПрж░ рж╕рж╛ржерзЗ `add` ржХрж░рж╛ред
    

### рж╕ржорж╕рзНржпрж╛ржЧрзБрж▓рзЛ:

- ржкрзНрж░рждрж┐ржмрж╛рж░ `last` ржПрж░ tail update ржХрж░рждрзЗ рж╣ржмрзЗред
    
- ржкрзНрж░рждрж┐ ржзрж╛ржкрзЗ tail change рж╣ржмрзЗред
    
- **Extra data structure ржмрзНржпржмрж╣рж╛рж░рзЗ space complexity ржмрж╛рзЬржмрзЗред**
    
- Implementation ржЬржЯрж┐рж▓ рж╣ржмрзЗред
    

---

## ЁЯЪй рждрж╛рж╣рж▓рзЗ ржПржЦржи ржХрзА ржХрж░ржмрзЛ?

**ржирждрзБржи ржжрзГрж╖рзНржЯрж┐ржХрзЛржг ржерзЗржХрзЗ ржнрж╛ржмрждрзЗ рж╣ржмрзЗред**

### рж╕ржорж╕рзНржпрж╛:

Left to Right traverse ржХрж░рж╛рж░ ржХрж╛рж░ржгрзЗ **previous node ржПрж░ tail ржЦрзБржБржЬрждрзЗ рж╣ржЪрзНржЫрзЗ, ржпрж╛ ржмрж╛ржж ржжрзЗржУрзЯрж╛ рж╕ржорзНржнржм ржирзЯред**

### ржмрж╛рж╕рзНрждржмрждрж╛:

`second last node` ржПрж░ tail track рж░рж╛ржЦрж╛ **without function calling (without getTail()) ржХржарж┐ржиред**

---

## ЁЯЪй ржирждрзБржи ржХрж░рзЗ ржЪрж┐ржирзНрждрж╛ ржХрж░рж╛ ржпрж╛ржХ:

ржЖржорж░рж╛ ржЬрж╛ржирж┐:

- ржПржХржЯрж┐ ржирзЛржбрзЗрж░ рж╕ржм branch **ArrayList** ржП ржерж╛ржХрзЗред
    
- ArrayList ржерзЗржХрзЗ element remove ржХрж░рж▓рзЗ **рж╢рзЗрж╖ ржерзЗржХрзЗ remove ржХрж░рж╛ рж╣рзЯ**, ржпрж╛рждрзЗ iteration рж╕ржорж╕рзНржпрж╛ ржирж╛ ржХрж░рзЗред
    

ржпржЦржи рж╢рзЗрж╖ ржерзЗржХрзЗ remove ржХрж░рж┐:

- ArrayList ржПрж░ size 1 ржХржорзЗ ржпрж╛рзЯред
    
- ArrayList ржПрж░ ржирждрзБржи рж╢рзЗрж╖рзЗрж░ element рж╣ржмрзЗ ржкрзВрж░рзНржмрзЗрж░ `second last` elementред
    

ржПржнрж╛ржмрзЗ:

- `second last` element ржХрзЗ **рж╕рж╣ржЬрзЗ track рж░рж╛ржЦрж╛ рж╕ржорзНржнржмред**
    
- ржХрж┐ржирзНрждрзБ **рждрж╛рж░ tail ржЦрзБржБржЬрждрзЗ рж╣ржмрзЗ ржирж╛ ржпржжрж┐ ржЖржорж░рж╛ strategy ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж┐ред**
    

---

## ЁЯЪй Solution: Right to Left Traversal

ржпржжрж┐ ржЖржорж░рж╛:  
тЬЕ **Left to Right ржПрж░ ржкрж░рж┐ржмрж░рзНрждрзЗ Right to Left traverse ржХрж░рж┐**,  
тЬЕ рждрж╛рж╣рж▓рзЗ `second last` element ржПрж░ tail ржЦрзБржБржЬрждрзЗ рж╣ржмрзЗ ржирж╛, ржХрж╛рж░ржг ржЖржорж░рж╛ ржЖржЧрзЗржЗ attach ржХрж░рзЗ ржлрзЗрж▓ржмрзЛред

ржПржЯрж┐ **serialization logic ржХрзЗ рж╕рж╣ржЬ ржХрж░ржмрзЗ ржПржмржВ getTail() call avoid ржХрж░ржмрзЗред**

---

## ЁЯЪй Bottom Line

тЬЕ ржЖржорж╛ржжрзЗрж░ ржорзВрж▓ рж▓ржХрзНрж╖рзНржп:

> **тАЬgetTail() call avoid ржХрж░рзЗ tail tracking ржПрж░ ржкрзНрж░рзЯрзЛржЬржирзАрзЯрждрж╛ ржмрж╛ржж ржжрзЗржУрзЯрж╛редтАЭ**

тЬЕ ржПржЯрж┐ ржХрж░рждрзЗ:

- **Right to Left traversal ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ред**
    
- `secLast` ржПрж░ tail ржЦрзБржБржЬрждрзЗ ржирж╛ ржЧрж┐рзЯрзЗ ржЖржЧрзЗржЗ attach ржХрж░рзЗ ржирзЗржУрзЯрж╛ред