```java title:"Cycle detection for Non directed graph"
public class BFS {  
    public int parent;  
    public int vertex;  
  
    public BFS(int parent, int v){  
        this.parent = parent;  
        vertex = v;  
    }  
}

public class Main {  
	public static boolean IsCyclePresent(ArrayList<Edge>[] graph,  int src, boolean[] isVisited){  
	    ArrayDeque<BFS> bfs = new ArrayDeque<>();  
	    bfs.add(new BFS(-1, src));  
	  
	    while(!bfs.isEmpty()) {  
	        // remove  
	        var top = bfs.remove();  
	  
	        isVisited[top.vertex] = true;  
	  
	        for (Edge each : graph[top.vertex]) {  
	  
	            if( each.neighbour == top.parent )  
	                continue;  
	            else if( isVisited[each.neighbour] )  
	                return true;  
	            else  
	                bfs.add(new BFS(top.vertex, each.neighbour));  
	        }  
	    }  
	  
	    return false;  
	}  
	  
	public static boolean CycleDetection(ArrayList<Edge>[] graph){  
	    boolean[] isVisited = new boolean[graph.length];  
	  
	    for(int i = 0; i < isVisited.length; i++){  
	        if( !isVisited[i] &&  IsCyclePresent(graph, i, isVisited) ){  
	           return true;  
	        }  
	    }  
	  
	    return  false;  
	}  
	  
	public static void main(String[] args) throws Exception {  
	    BufferedReader bfr = new BufferedReader(new InputStreamReader(System.in));  
	    int vertices = Integer.parseInt(bfr.readLine().trim());  
	  
	    ArrayList<Edge>[] adjacencyList = new ArrayList[vertices];  
	    for(int i = 0; i < adjacencyList.length; i++){  
	        adjacencyList[i] = new ArrayList<Edge>();  
	    }  
	  
	    int edges = Integer.parseInt(bfr.readLine());  
	    for(int i = 0; i < edges; i++){  
	        String[] str = bfr.readLine().split(" ");  
	        int v1 = Integer.parseInt(str[0]);  
	        int v2 = Integer.parseInt(str[1]);  
	        int wght = Integer.parseInt(str[2]);  
	  
	        adjacencyList[v1].add( new Edge(v1, v2, wght));  
	        adjacencyList[v2].add( new Edge(v2, v1, wght));  
	    }  
	  
	    int src = Integer.parseInt(bfr.readLine());  
	    ArrayDeque<BFS> bfs = new ArrayDeque<>();  
	  
	    var isCycle = CycleDetection(adjacencyList);  
	    Println("Is there a cycle: "+isCycle);  
	}
	
	public static void Print(String str) {  
		System.out.print(str);  
	}  
	
	public static void Print(String str) {  
	    System.out.print(str);  
	}
}
```

