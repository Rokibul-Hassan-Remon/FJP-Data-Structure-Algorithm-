## ЁЯФ╣ **1. ржкрзНрж░ржержо ржЪрж┐ржирзНрждрж╛:**

Graph ржП ржпржжрж┐ ржХрзЛржиржУ node ржЖржЧрзЗржЗ visit рж╣рзЯрзЗ ржерж╛ржХрзЗ ржПржмржВ ржЖржмрж╛рж░ рж╕рзЗржЗ node ржП ржкрзМржБржЫрж╛ржЗ, рждрж╛рж╣рж▓рзЗ ржЕржмрж╢рзНржпржЗ ржПржХржЯрж╛ cycle ржЖржЫрзЗред

## ЁЯФ╣ **2. BFS ржжрж┐рзЯрзЗ ржнрж╛ржмржирж╛:**

BFS normally:

- remove
    
- mark*
    
- Work
    
- add*


ржХрж┐ржирзНрждрзБ ржЖржорж╛рж░ ржорж╛ржерж╛рзЯ ржЫрж┐рж▓:

### **ржЖржорж┐ queue рждрзЗ neighbor ржжрзЗрж░ add ржХрж░ржм, ржХрж┐ржирзНрждрзБ visited рждрж╛рж░ ржЖржЧрзЗ check ржХрж░ржм ржирж╛ред**

ржХрж╛рж░ржг ржЖржорж┐ ржнрж╛ржмржЫрж┐рж▓рж╛ржо:

> тАЬржпржжрж┐ ржПржХржЯрж┐ node ржжрзБржЗржмрж╛рж░ queue рждрзЗ push рж╣рзЯ, рждржмрзБржУ рж╕ржорж╕рзНржпрж╛ ржирзЗржЗред  
> ржХрж┐ржирзНрждрзБ ржпржЦржи dequeue ржХрж░рж╛рж░ рж╕ржорзЯ ржжрзЗржЦржм ржпрзЗ node ржЯрж╛ already visited тАФ ржУржЯрж╛ржЗ cycle ржПрж░ ржкрзНрж░ржорж╛ржг!тАЭ

## ЁЯФ╣ **3. Queue push ржХрж░рж╛рж░ рж╕ржорзЯ ржЖржорж╛рж░ logic:**
```java
queue рждрзЗ neighbour push ржХрж░рж╛рж░ ржЖржЧрзЗ ржЪрзЗржХ ржХрж░рж┐ visit == false ржХрж┐ ржирж╛
ржпржжрж┐ false рж╣рзЯ тЖТ queue-рждрзЗ push
ржпржжрж┐ true рж╣рзЯ тЖТ skip[continue]
```

**ржоржирж╕рзНрждрждрзНрждрзНржм:**

- ржЖржЧрзЗ visited check ржХрж░ржм рж╢рзБржзрзБ queue рждрзЗ push ржХржорж╛ржирзЛрж░ ржЬржирзНржпред
    
- ржХрж┐ржирзНрждрзБ ржЖрж╕рж▓ decision ржирзЗржм dequeue ржХрж░рж╛рж░ рж╕ржорзЯред
    

## ЁЯФ╣ **4. Dequeue ржХрж░рж╛рж░ рж╕ржорзЯ ржЖржорж╛рж░ ржорзВрж▓ idea:**

ржпржЦржи ржЖржорж┐ queue ржерзЗржХрзЗ node remove ржХрж░ржм:

- ржпржжрж┐ node ржЖржЧрзЗ **visited ржирж╛ рж╣рзЯрзЗ ржерж╛ржХрзЗ**, рждрж╛рж╣рж▓рзЗ safe тЖТ visited ржХрж░ржмред
    
- ржХрж┐ржирзНрждрзБ ржпржжрж┐ node **already visited** ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯ тЖТ рждрж╛рж╣рж▓рзЗ ржмрзБржЭржм ржЖржорж┐ ржПржЗ node ржП ржжрзНржмрж┐рждрзАрзЯржмрж╛рж░ ржПрж▓рж╛ржо тЖТ **cycle exists**ред
    

ржПржЯрж╛ржЗ ржЫрж┐рж▓ ржЖржорж╛рж░ main thought.

## ЁЯФ╣ **5. Summary (ржЖржорж╛рж░ ржирж┐ржЬрзЗрж░ cycle detection logic):**

- Queue рждрзЗ push тЖТ рж╢рзБржзрзБ duplication ржХржорж╛рждрзЗред
    
- Real detection тЖТ dequeue ржХрж░рж╛рж░ рж╕ржорзЯред
    
- Dequeue ржП ржпржжрж┐ ржжрзЗржЦрж┐ node ржЖржЧрзЗ visit ржХрж░рж╛ тЖТ cycle ржЖржЫрзЗред
    

---

# ЁЯУЭ **Full Hand Note (Short Version)**

### **Summary:**
## **Hand Note тАФ My Own Thought Process for Cycle Detection Using BFS**

1. **Cycle ржорж╛ржирзЗ:** ржХрзЛржиржУ node ржП ржжрзБтАЩржнрж╛ржмрзЗ ржкрзМржБржЫрж╛ржирзЛ ржпрж╛рзЯ тЖТ ржЕрж░рзНржерж╛рзО node ржЯрж╛ second time ржкрж╛ржУрзЯрж╛ ржЧрзЗрж▓рзЗ cycle ржЖржЫрзЗред
    
2. **ржПржЯрж╛ detect ржХрж░рждрзЗ:** BFS/Queue use ржХрж░ржмред
    
3. **Push ржХрж░рж╛рж░ рж╕ржорзЯ:** neighbor already visited ржХрж┐ржирж╛ ржЪрзЗржХ ржХрж░ржм, ржпрзЗржи queue ржмрзЬ ржирж╛ рж╣рзЯред
    
4. **Dequeue ржХрж░рж╛рж░ рж╕ржорзЯ:**
    
    - ржпржжрж┐ node visited ржирж╛ рж╣рзЯ тЖТ mark visited
        
    - ржпржжрж┐ node already visited тЖТ ржПржЗ node ржП ржжрзНржмрж┐рждрзАрзЯржмрж╛рж░ ржПрж▓рж╛ржо тЖТ **cycle detected**
        
5. **ржорзВрж▓ ржнрж╛ржмржирж╛:**
    
    - Cycle detection ржЖржорж┐ ржХрж░ржм **dequeue ржХрж░рж╛рж░ рж╕ржорзЯ**, not during push.
        
6. **ржХрж╛рж░ржг:**
    
    - dequeue рж╕ржорзЯ check ржХрж░рж▓рзЗ ржирж┐рж╢рзНржЪрж┐ржд рж╣ржУрзЯрж╛ ржпрж╛рзЯ ржпрзЗ node ржЯрж╛ ржЧрзНрж░рж╛ржл traversal flow ржП ржжрзНржмрж┐рждрзАржпрж╝ржмрж╛рж░ ржЖрж╕ржЫрзЗред
        
    - ржЖрж░ second arrival ржорж╛ржирзЗржЗ cycleред


